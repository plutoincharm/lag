(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 13.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[     68537,       1788]
NotebookOptionsPosition[     64938,       1725]
NotebookOutlinePosition[     65372,       1742]
CellTagsIndexPosition[     65329,       1739]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell[BoxData[
 RowBox[{"StateSpaceModel", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{"M", " ", "+", " ", "m"}], ")"}], " ", 
        RowBox[{
         RowBox[{"x", "''"}], "[", "t", "]"}]}], " ", "-", " ", "\n", "    ", 
       RowBox[{"m", " ", "l", " ", 
        RowBox[{"Sin", "[", 
         RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
        RowBox[{
         RowBox[{
          RowBox[{"\[Theta]", "'"}], "[", "t", "]"}], "^", "2"}]}], " ", "+", 
       " ", "\n", "    ", 
       RowBox[{"m", " ", "l", " ", 
        RowBox[{"Cos", "[", 
         RowBox[{"\[Theta]", "[", "t", "]"}], "]"}], " ", 
        RowBox[{
         RowBox[{"\[Theta]", "''"}], "[", "t", "]"}]}]}], " ", "==", " ", 
      RowBox[{"F", "[", "t", "]"}]}], ",", " ", "\n", "  ", 
     RowBox[{
      RowBox[{
       RowBox[{"m", " ", 
        RowBox[{
         RowBox[{"x", "''"}], "[", "t", "]"}], " ", 
        RowBox[{"Cos", "[", 
         RowBox[{"\[Theta]", "[", "t", "]"}], "]"}]}], " ", "+", " ", 
       RowBox[{"m", " ", "l", " ", 
        RowBox[{
         RowBox[{"\[Theta]", "''"}], "[", "t", "]"}]}]}], " ", "==", " ", 
      "\n", "   ", 
      RowBox[{"m", " ", "g", " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"\[Theta]", "[", "t", "]"}], "]"}]}]}]}], "}"}], ",", " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"\[Theta]", "[", "t", "]"}], ",", " ", "0"}], "}"}], ",", " ", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        RowBox[{"\[Theta]", "'"}], "[", "t", "]"}], ",", " ", "0"}], "}"}], 
     ",", " ", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"x", "[", "t", "]"}], ",", "\n", "    ", "0"}], "}"}], ",", 
     " ", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        RowBox[{"x", "'"}], "[", "t", "]"}], ",", " ", "0"}], "}"}]}], "}"}], 
   ",", " ", 
   RowBox[{"{", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"F", "[", "t", "]"}], ",", " ", "0"}], "}"}], "}"}], ",", " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\[Theta]", "[", "t", "]"}], ",", " ", 
     RowBox[{"x", "[", "t", "]"}]}], "}"}], ",", " ", "t"}], "]"}]], "Input",
 CellChangeTimes->{{3.8662034535583973`*^9, 3.866203453569759*^9}},
 CellLabel->"In[4]:=",ExpressionUUID->"cb6c48c2-6d7e-41f3-b774-56bcdad6e081"],

Cell[BoxData[
 TemplateBox[{"0", "1", "0", "0", "0", 
   FractionBox[
    RowBox[{"g", " ", 
      RowBox[{"(", 
        RowBox[{"m", "+", "M"}], ")"}]}], 
    RowBox[{"l", " ", "M"}]], "0", "0", "0", 
   RowBox[{"-", 
     FractionBox["1", 
      RowBox[{"l", " ", "M"}]]}], "0", "0", "0", "1", "0", 
   RowBox[{"-", 
     FractionBox[
      RowBox[{"g", " ", "m"}], "M"]}], "0", "0", "0", 
   FractionBox["1", "M"], "1", "0", "0", "0", "0", "0", "0", "1", "0", "0", 
   InterpretationBox["\[InvisibleSpace]", None], {
   StateSpaceModel, {
    False, False, {
     False, False}}, {$CellContext`stname1, $CellContext`stname2, \
$CellContext`stname3, $CellContext`stname4}, {{Control`CommonDump`$DUMMY$}, {
     Control`CommonDump`$DUMMY$, Control`CommonDump`$DUMMY$}, {
     Control`CommonDump`$DUMMY$, Control`CommonDump`$DUMMY$, 
      Control`CommonDump`$DUMMY$, Control`CommonDump`$DUMMY$}}, Identity, 
    Automatic, 1, 2, 4, 1, {}, {False, False}, False, Automatic, None, {",", 
     RowBox[{"{", 
       RowBox[{
         RowBox[{"{", 
           RowBox[{
             RowBox[{"\[Theta]", "[", "t", "]"}], ",", "0"}], "}"}], ",", 
         SubscriptBox["\[FormalX]", "1"], ",", 
         RowBox[{"{", 
           RowBox[{
             RowBox[{"x", "[", "t", "]"}], ",", "0"}], "}"}], ",", 
         SubscriptBox["\[FormalX]", "2"]}], "}"}], ",", 
     RowBox[{"{", 
       RowBox[{"{", 
         RowBox[{
           RowBox[{"F", "[", "t", "]"}], ",", "0"}], "}"}], "}"}], ",", 
     "Automatic", ",", "t"}}, {}},
  "StateSpaceModelFull",
  BaseStyle->{NumberMarks -> False},
  DisplayFunction->(TagBox[
    SubsuperscriptBox[
     RowBox[{"(", 
       GridBox[{{#, #2, #3, #4, #5}, {#6, #7, #8, #9, #10}, {#11, #12, #13, \
#14, #15}, {#16, #17, #18, #19, #20}, {#21, #22, #23, #24, #25}, {#26, #27, \
#28, #29, #30}}, AllowedDimensions -> {5, 6}, 
        GridBoxDividers -> {"Rows" -> {False, False, False, False, 
            Directive[
             GrayLevel[0], 
             GrayLevel[0.6]], {False}, False}, 
          "Columns" -> {False, False, False, False, 
            Directive[
             GrayLevel[0], 
             GrayLevel[0.6]], {False}, False}}, DefaultBaseStyle -> 
        "SystemsModelGrid00"], ")"}], #31, 
     ButtonBox[
      GraphicsBox[{
        RectangleBox[{0, 0}, DefaultBaseStyle -> "SystemsModelSuperscript"], 
        InsetBox[
         StyleBox[
         "\[ScriptCapitalS]", DefaultBaseStyle -> 
          "SystemsModelSuperscript"], {0.5, 0.5}]}, ImageSize -> 20], 
      ButtonFunction :> Control`Typesetting`SystemsModelTypesetToggle[
        ButtonNotebook[], FE`CMObj], Evaluator -> Automatic, Appearance -> 
      None], MultilineFunction -> None], 
    EventHandlerTag[{"MouseEntered" :> {FE`CMObj = MathLink`CallFrontEnd[
          FrontEnd`Value[
           FEPrivate`Self[]]]}, PassEventsDown -> True, PassEventsUp -> 
      True}]]& ),
  InterpretationFunction->(RowBox[{"StateSpaceModel", "[", 
     RowBox[{"{", 
       RowBox[{"{", 
         RowBox[{"{", 
           TemplateSlotSequence[{1, 4}, ","], "}"}], ",", 
         RowBox[{"{", 
           TemplateSlotSequence[{6, 9}, ","], "}"}], ",", 
         RowBox[{"{", 
           TemplateSlotSequence[{11, 14}, ","], "}"}], ",", 
         RowBox[{"{", 
           TemplateSlotSequence[{16, 19}, ","], "}"}], "}"}], ",", 
       RowBox[{"{", 
         RowBox[{"{", 
           TemplateSlotSequence[{5, 5}, ","], "}"}], ",", 
         RowBox[{"{", 
           TemplateSlotSequence[{10, 10}, ","], "}"}], ",", 
         RowBox[{"{", 
           TemplateSlotSequence[{15, 15}, ","], "}"}], ",", 
         RowBox[{"{", 
           TemplateSlotSequence[{20, 20}, ","], "}"}], "}"}], ",", 
       RowBox[{"{", 
         RowBox[{"{", 
           TemplateSlotSequence[{21, 24}, ","], "}"}], ",", 
         RowBox[{"{", 
           TemplateSlotSequence[{26, 29}, ","], "}"}], "}"}], ",", 
       RowBox[{"{", 
         RowBox[{"{", 
           TemplateSlotSequence[{25, 25}, ","], "}"}], ",", 
         RowBox[{"{", 
           TemplateSlotSequence[{30, 30}, ","], "}"}], "}"}], "}"}], ",", 
     RowBox[{"{", 
       RowBox[{
         RowBox[{"{", 
           RowBox[{
             RowBox[{"\[Theta]", "[", "t", "]"}], ",", "0"}], "}"}], ",", 
         SubscriptBox["\[FormalX]", "1"], ",", 
         RowBox[{"{", 
           RowBox[{
             RowBox[{"x", "[", "t", "]"}], ",", "0"}], "}"}], ",", 
         SubscriptBox["\[FormalX]", "2"]}], "}"}], ",", 
     RowBox[{"{", 
       RowBox[{"{", 
         RowBox[{
           RowBox[{"F", "[", "t", "]"}], ",", "0"}], "}"}], "}"}], ",", 
     "Automatic", ",", "t", ",", "SamplingPeriod", "->", 
     RowBox[{#31}], ",", "SystemsModelLabels", "->", "None", "]"}]& ),
  Tooltip->StateSpaceModel]], "Output",
 CellChangeTimes->{3.866203467066843*^9, 3.866325542187877*^9, 
  3.866325593523305*^9},
 CellLabel->"Out[4]=",ExpressionUUID->"cfb71662-1fd4-47cc-bcf2-dfee3cc457e4"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"StateSpaceModel", "[", 
  RowBox[{
   RowBox[{"{", " ", 
    RowBox[{
     RowBox[{
      RowBox[{"m", " ", "l", " ", 
       RowBox[{
        SuperscriptBox["\[Theta]", "\[Prime]\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}], "+", 
      RowBox[{"m", " ", "g", " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"\[Theta]", "[", "t", "]"}], "]"}]}]}], "==", 
     RowBox[{"T", "[", "t", "]"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"\[Theta]", "[", "t", "]"}], ",", " ", 
       RowBox[{"Pi", "/", "1"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        SuperscriptBox["\[Theta]", "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}], ",", " ", "0"}], "}"}]}], 
    "}"}], ",", " ", 
   RowBox[{"{", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"T", "[", "t", "]"}], ",", " ", "5"}], "}"}], "}"}], ",", " ", 
   RowBox[{"{", 
    RowBox[{"\[Theta]", "[", "t", "]"}], "}"}], ",", " ", "t"}], 
  "]"}]], "Input",
 CellChangeTimes->{{3.8662039983575306`*^9, 3.866204045705963*^9}, {
   3.866205733644009*^9, 3.866205734091999*^9}, {3.8662070301709356`*^9, 
   3.866207159372472*^9}, {3.8662071964960575`*^9, 3.8662073153919153`*^9}, {
   3.8662073886061316`*^9, 3.866207389739175*^9}, 3.8662074248461356`*^9, {
   3.8662074549431024`*^9, 3.866207462479003*^9}, {3.866207506703156*^9, 
   3.866207523359519*^9}, {3.866207673455061*^9, 3.8662076739831605`*^9}, {
   3.8662077482061634`*^9, 3.866207761691255*^9}, {3.866208018607488*^9, 
   3.866208047803252*^9}, {3.8662080886853623`*^9, 3.866208099899104*^9}, {
   3.8663255509189863`*^9, 3.866325552166065*^9}, {3.8663256112868214`*^9, 
   3.866325618168058*^9}, {3.8663256921949797`*^9, 3.866325719314246*^9}, {
   3.866325757027213*^9, 3.8663257577950015`*^9}},
 CellLabel->"In[13]:=",ExpressionUUID->"e1324885-1b8b-4d00-a857-2d3718df7db5"],

Cell[BoxData[
 TemplateBox[{"0", "1", "0", 
   FractionBox["g", "l"], "0", 
   FractionBox["1", 
    RowBox[{"l", " ", "m"}]], "1", "0", "0", 
   InterpretationBox["\[InvisibleSpace]", None], {
   StateSpaceModel, {
    False, False, {
     False, False}}, {$CellContext`stname1, $CellContext`stname2}, {{
     Control`CommonDump`$DUMMY$}, {Control`CommonDump`$DUMMY$}, {
     Control`CommonDump`$DUMMY$, Control`CommonDump`$DUMMY$}}, Identity, 
    Automatic, 1, 1, 2, 1, {}, {False, False}, False, Automatic, None, {",", 
     RowBox[{"{", 
       RowBox[{
         RowBox[{"{", 
           RowBox[{
             RowBox[{"\[Theta]", "[", "t", "]"}], ",", "0"}], "}"}], ",", 
         SubscriptBox["\[FormalX]", "1"]}], "}"}], ",", 
     RowBox[{"{", 
       RowBox[{"{", 
         RowBox[{
           RowBox[{"T", "[", "t", "]"}], ",", "0"}], "}"}], "}"}], ",", 
     "Automatic", ",", "t"}}, {}},
  "StateSpaceModelFull",
  BaseStyle->{NumberMarks -> False},
  DisplayFunction->(TagBox[
    SubsuperscriptBox[
     RowBox[{"(", 
       GridBox[{{#, #2, #3}, {#4, #5, #6}, {#7, #8, #9}}, 
        AllowedDimensions -> {3, 3}, 
        GridBoxDividers -> {"Rows" -> {False, False, 
            Directive[
             GrayLevel[0], 
             GrayLevel[0.6]], {False}, False}, "Columns" -> {False, False, 
            Directive[
             GrayLevel[0], 
             GrayLevel[0.6]], {False}, False}}, DefaultBaseStyle -> 
        "SystemsModelGrid00"], ")"}], #10, 
     ButtonBox[
      GraphicsBox[{
        RectangleBox[{0, 0}, DefaultBaseStyle -> "SystemsModelSuperscript"], 
        InsetBox[
         StyleBox[
         "\[ScriptCapitalS]", DefaultBaseStyle -> 
          "SystemsModelSuperscript"], {0.5, 0.5}]}, ImageSize -> 20], 
      ButtonFunction :> Control`Typesetting`SystemsModelTypesetToggle[
        ButtonNotebook[], FE`CMObj], Evaluator -> Automatic, Appearance -> 
      None], MultilineFunction -> None], 
    EventHandlerTag[{"MouseEntered" :> {FE`CMObj = MathLink`CallFrontEnd[
          FrontEnd`Value[
           FEPrivate`Self[]]]}, PassEventsDown -> True, PassEventsUp -> 
      True}]]& ),
  InterpretationFunction->(RowBox[{"StateSpaceModel", "[", 
     RowBox[{"{", 
       RowBox[{"{", 
         RowBox[{"{", 
           TemplateSlotSequence[{1, 2}, ","], "}"}], ",", 
         RowBox[{"{", 
           TemplateSlotSequence[{4, 5}, ","], "}"}], "}"}], ",", 
       RowBox[{"{", 
         RowBox[{"{", 
           TemplateSlotSequence[{3, 3}, ","], "}"}], ",", 
         RowBox[{"{", 
           TemplateSlotSequence[{6, 6}, ","], "}"}], "}"}], ",", 
       RowBox[{"{", 
         RowBox[{"{", 
           TemplateSlotSequence[{7, 8}, ","], "}"}], "}"}], ",", 
       RowBox[{"{", 
         RowBox[{"{", 
           TemplateSlotSequence[{9, 9}, ","], "}"}], "}"}], "}"}], ",", 
     RowBox[{"{", 
       RowBox[{
         RowBox[{"{", 
           RowBox[{
             RowBox[{"\[Theta]", "[", "t", "]"}], ",", "0"}], "}"}], ",", 
         SubscriptBox["\[FormalX]", "1"]}], "}"}], ",", 
     RowBox[{"{", 
       RowBox[{"{", 
         RowBox[{
           RowBox[{"T", "[", "t", "]"}], ",", "0"}], "}"}], "}"}], ",", 
     "Automatic", ",", "t", ",", "SamplingPeriod", "->", 
     RowBox[{#10}], ",", "SystemsModelLabels", "->", "None", "]"}]& ),
  Tooltip->StateSpaceModel]], "Output",
 CellChangeTimes->{3.8663261298954997`*^9},
 CellLabel->"Out[13]=",ExpressionUUID->"027b6b49-7c58-4e89-ba23-73b62970bfa3"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"StateSpaceModel", "[", 
  RowBox[{
   RowBox[{"{", " ", 
    RowBox[{
     RowBox[{
      RowBox[{"m", " ", "l", " ", 
       RowBox[{
        SuperscriptBox["\[Theta]", "\[Prime]\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}], "+", 
      RowBox[{"m", " ", "g", " ", 
       RowBox[{"Sin", "[", 
        RowBox[{"\[Theta]", "[", "t", "]"}], "]"}]}]}], "==", 
     RowBox[{"T", "[", "t", "]"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\[Theta]", "[", "t", "]"}], ",", 
     RowBox[{
      SuperscriptBox["\[Theta]", "\[Prime]",
       MultilineFunction->None], "[", "t", "]"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"T", "[", "t", "]"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\[Theta]", "[", "t", "]"}], "}"}], ",", "t"}], "]"}]], "Input",
 CellChangeTimes->{
  3.8663258234281054`*^9, {3.8663259884886007`*^9, 3.8663260426301517`*^9}, {
   3.8663260885153036`*^9, 3.8663260892566085`*^9}, 3.8663261237312937`*^9},
 CellLabel->"In[19]:=",ExpressionUUID->"09060e4d-ea94-4146-b178-aad41ca6965b"],

Cell[BoxData[
 TemplateBox[{"0", "1", "0", 
   RowBox[{"-", 
     FractionBox["g", "l"]}], "0", 
   FractionBox["1", 
    RowBox[{"l", " ", "m"}]], "1", "0", "0", 
   InterpretationBox["\[InvisibleSpace]", None], {
   StateSpaceModel, {
    False, False, {
     False, False}}, {$CellContext`stname1, $CellContext`stname2}, {{
     Control`CommonDump`$DUMMY$}, {Control`CommonDump`$DUMMY$}, {
     Control`CommonDump`$DUMMY$, Control`CommonDump`$DUMMY$}}, Identity, 
    Automatic, 1, 1, 2, 1, {}, {False, False}, False, Automatic, None, {",", 
     RowBox[{"{", 
       RowBox[{
         RowBox[{"{", 
           RowBox[{
             RowBox[{"\[Theta]", "[", "t", "]"}], ",", "0"}], "}"}], ",", 
         SubscriptBox["\[FormalX]", "1"]}], "}"}], ",", 
     RowBox[{"{", 
       RowBox[{"{", 
         RowBox[{
           RowBox[{"T", "[", "t", "]"}], ",", "0"}], "}"}], "}"}], ",", 
     "Automatic", ",", "t"}}, {}},
  "StateSpaceModelFull",
  BaseStyle->{NumberMarks -> False},
  DisplayFunction->(TagBox[
    SubsuperscriptBox[
     RowBox[{"(", 
       GridBox[{{#, #2, #3}, {#4, #5, #6}, {#7, #8, #9}}, 
        AllowedDimensions -> {3, 3}, 
        GridBoxDividers -> {"Rows" -> {False, False, 
            Directive[
             GrayLevel[0], 
             GrayLevel[0.6]], {False}, False}, "Columns" -> {False, False, 
            Directive[
             GrayLevel[0], 
             GrayLevel[0.6]], {False}, False}}, DefaultBaseStyle -> 
        "SystemsModelGrid00"], ")"}], #10, 
     ButtonBox[
      GraphicsBox[{
        RectangleBox[{0, 0}, DefaultBaseStyle -> "SystemsModelSuperscript"], 
        InsetBox[
         StyleBox[
         "\[ScriptCapitalS]", DefaultBaseStyle -> 
          "SystemsModelSuperscript"], {0.5, 0.5}]}, ImageSize -> 20], 
      ButtonFunction :> Control`Typesetting`SystemsModelTypesetToggle[
        ButtonNotebook[], FE`CMObj], Evaluator -> Automatic, Appearance -> 
      None], MultilineFunction -> None], 
    EventHandlerTag[{"MouseEntered" :> {FE`CMObj = MathLink`CallFrontEnd[
          FrontEnd`Value[
           FEPrivate`Self[]]]}, PassEventsDown -> True, PassEventsUp -> 
      True}]]& ),
  InterpretationFunction->(RowBox[{"StateSpaceModel", "[", 
     RowBox[{"{", 
       RowBox[{"{", 
         RowBox[{"{", 
           TemplateSlotSequence[{1, 2}, ","], "}"}], ",", 
         RowBox[{"{", 
           TemplateSlotSequence[{4, 5}, ","], "}"}], "}"}], ",", 
       RowBox[{"{", 
         RowBox[{"{", 
           TemplateSlotSequence[{3, 3}, ","], "}"}], ",", 
         RowBox[{"{", 
           TemplateSlotSequence[{6, 6}, ","], "}"}], "}"}], ",", 
       RowBox[{"{", 
         RowBox[{"{", 
           TemplateSlotSequence[{7, 8}, ","], "}"}], "}"}], ",", 
       RowBox[{"{", 
         RowBox[{"{", 
           TemplateSlotSequence[{9, 9}, ","], "}"}], "}"}], "}"}], ",", 
     RowBox[{"{", 
       RowBox[{
         RowBox[{"{", 
           RowBox[{
             RowBox[{"\[Theta]", "[", "t", "]"}], ",", "0"}], "}"}], ",", 
         SubscriptBox["\[FormalX]", "1"]}], "}"}], ",", 
     RowBox[{"{", 
       RowBox[{"{", 
         RowBox[{
           RowBox[{"T", "[", "t", "]"}], ",", "0"}], "}"}], "}"}], ",", 
     "Automatic", ",", "t", ",", "SamplingPeriod", "->", 
     RowBox[{#10}], ",", "SystemsModelLabels", "->", "None", "]"}]& ),
  Tooltip->StateSpaceModel]], "Output",
 CellChangeTimes->{3.866326135980544*^9, 3.866330072391739*^9},
 CellLabel->"Out[19]=",ExpressionUUID->"c42797d3-a47a-4500-894d-13a9094346a2"]
}, Open  ]],

Cell[BoxData[" "], "Input",
 CellChangeTimes->{
  3.8663300993162613`*^9},ExpressionUUID->"b05c21c9-aaeb-4764-8b5f-\
c13c066cfd0d"],

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", 
  RowBox[{
   RowBox[{
    RowBox[{"eqns", "=", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            SubscriptBox["m", "1"], "+", 
            SubscriptBox["m", "2"]}], ")"}], 
          SubscriptBox["l", "1"], "  ", 
          RowBox[{
           SuperscriptBox[
            SubscriptBox["\[Theta]", "1"], "\[Prime]\[Prime]",
            MultilineFunction->None], "[", "t", "]"}]}], " ", "+", " ", 
         RowBox[{
          SubscriptBox["m", "2"], 
          SubscriptBox["l", "2"], 
          RowBox[{
           SuperscriptBox[
            SubscriptBox["\[Theta]", "2"], "\[Prime]\[Prime]",
            MultilineFunction->None], "[", "t", "]"}], 
          RowBox[{"Cos", "[", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{
              SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "-", 
             RowBox[{
              SubscriptBox["\[Theta]", "2"], "[", "t", "]"}]}], ")"}], 
           "]"}]}], " ", "+", " ", 
         RowBox[{
          SubscriptBox["m", "2"], 
          SubscriptBox["l", "2"], " ", 
          SuperscriptBox[
           RowBox[{
            SuperscriptBox[
             SubscriptBox["\[Theta]", "2"], "\[Prime]",
             MultilineFunction->None], "[", "t", "]"}], "2"], 
          RowBox[{"Sin", "[", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{
              SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "-", 
             RowBox[{
              SubscriptBox["\[Theta]", "2"], "[", "t", "]"}]}], ")"}], 
           "]"}]}], " ", "+", " ", 
         RowBox[{"g", 
          RowBox[{"(", 
           RowBox[{
            SubscriptBox["m", "1"], "+", 
            SubscriptBox["m", "2"]}], ")"}], 
          RowBox[{"Sin", "[", 
           RowBox[{"(", 
            RowBox[{
             SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], ")"}], "]"}]}]}],
         "==", 
        RowBox[{
         SubscriptBox["T", "1"], "[", "t", "]"}]}], ",", 
       RowBox[{
        RowBox[{
         RowBox[{
          SubscriptBox["m", "2"], 
          SubscriptBox["l", "2"], 
          RowBox[{
           SuperscriptBox[
            SubscriptBox["\[Theta]", "2"], "\[Prime]\[Prime]",
            MultilineFunction->None], "[", "t", "]"}]}], " ", "+", " ", 
         RowBox[{
          SubscriptBox["m", "2"], 
          SubscriptBox["l", "1"], 
          RowBox[{
           SuperscriptBox[
            SubscriptBox["\[Theta]", "1"], "\[Prime]\[Prime]",
            MultilineFunction->None], "[", "t", "]"}], 
          RowBox[{"Cos", "[", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{
              SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "-", 
             RowBox[{
              SubscriptBox["\[Theta]", "2"], "[", "t", "]"}]}], ")"}], 
           "]"}]}], " ", "-", " ", 
         RowBox[{
          SubscriptBox["m", "2"], 
          SubscriptBox["l", "1"], " ", 
          SuperscriptBox[
           RowBox[{
            SuperscriptBox[
             SubscriptBox["\[Theta]", "1"], "\[Prime]",
             MultilineFunction->None], "[", "t", "]"}], "2"], 
          RowBox[{"Sin", "[", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{
              SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "-", 
             RowBox[{
              SubscriptBox["\[Theta]", "2"], "[", "t", "]"}]}], ")"}], 
           "]"}]}], " ", "+", "  ", 
         RowBox[{
          SubscriptBox["m", "2"], " ", "g", "  ", 
          RowBox[{"Sin", "[", 
           RowBox[{
            SubscriptBox["\[Theta]", "2"], "[", "t", "]"}], "]"}]}]}], "==", 
        RowBox[{
         SubscriptBox["T", "2"], "[", "t", "]"}]}]}], " ", "}"}]}], " ", 
    ";"}], "\[IndentingNewLine]"}]}]], "Input",
 CellChangeTimes->{{3.866204069116279*^9, 3.8662040922655783`*^9}, {
   3.8662042339613523`*^9, 3.866204448857129*^9}, {3.8662045143796115`*^9, 
   3.8662046577288322`*^9}, {3.8662048030861206`*^9, 
   3.8662048565630975`*^9}, {3.8662049032749662`*^9, 
   3.8662049486495347`*^9}, {3.8662054827187033`*^9, 3.866205697932168*^9}, {
   3.8663300095761414`*^9, 3.866330012515479*^9}, 3.866330107573498*^9, 
   3.8663304597364655`*^9, {3.8663312095246906`*^9, 3.8663312109637947`*^9}, {
   3.866333864244787*^9, 3.866333894724903*^9}, 3.86633392493638*^9, 
   3.8665206852324185`*^9},
 CellLabel->
  "In[112]:=",ExpressionUUID->"bdb18fa3-c8f8-4600-a507-41c51302d6c3"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"solrhs1", "=", 
   RowBox[{
    RowBox[{"CoefficientArrays", "[", 
     RowBox[{"eqns", ",", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         SuperscriptBox[
          SubscriptBox["\[Theta]", "1"], "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}], ",", 
        RowBox[{
         SuperscriptBox[
          SubscriptBox["\[Theta]", "2"], "\[Prime]\[Prime]",
          MultilineFunction->None], "[", "t", "]"}]}], "}"}]}], "]"}], "//", 
    "Normal"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Mmat", "=", 
   RowBox[{"solrhs1", "[", 
    RowBox[{"[", "2", "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"MatrixForm", "[", "%", "]"}], "\[IndentingNewLine]", 
 RowBox[{"solrhs2", "=", 
  RowBox[{
   RowBox[{"CoefficientArrays", "[", 
    RowBox[{"eqns", ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        SuperscriptBox[
         SubscriptBox["\[Theta]", "1"], "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}], ",", 
       RowBox[{
        SuperscriptBox[
         SubscriptBox["\[Theta]", "2"], "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}], "}"}]}], "]"}], "//", 
   "Normal"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Cor", "=", 
   RowBox[{"solrhs2", "[", 
    RowBox[{"[", "2", "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"MatrixForm", "[", "%", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"solrhs3", "=", 
   RowBox[{
    RowBox[{"CoefficientArrays", "[", 
     RowBox[{"eqns", ",", 
      RowBox[{"{", "g", "}"}]}], "]"}], "//", "Normal"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"G", " ", "=", 
   RowBox[{"solrhs3", "[", 
    RowBox[{"[", "2", "]"}], "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"MatrixForm", "[", "%", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"A", "=", 
   RowBox[{
    RowBox[{
     RowBox[{"Inverse", "[", "Mmat", "]"}], ".", "G"}], " ", "*", "9.81"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MatrixForm", "[", "%", "]"}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{{3.8663304674152627`*^9, 3.866330469430931*^9}, {
   3.8663305243286505`*^9, 3.866330542978598*^9}, {3.866330612247786*^9, 
   3.866330697428006*^9}, {3.866330765802967*^9, 3.866330857715448*^9}, {
   3.8663319269629555`*^9, 3.8663319447283726`*^9}, {3.8663320149029636`*^9, 
   3.866332016883334*^9}, {3.8663320534757733`*^9, 3.8663321996516733`*^9}, {
   3.866332258113742*^9, 3.866332262547711*^9}, {3.866332377492818*^9, 
   3.866332407224037*^9}, {3.8663326559246187`*^9, 3.8663326828396444`*^9}, {
   3.8663327351066875`*^9, 3.8663327522614574`*^9}, {3.866333552242899*^9, 
   3.8663335550617113`*^9}, 3.8663337956376553`*^9, 3.8663339161990323`*^9, {
   3.8663343112567434`*^9, 3.8663343202115703`*^9}, {3.866335069735856*^9, 
   3.8663350733688545`*^9}, {3.866335811286851*^9, 3.8663358360879035`*^9}, {
   3.866520695691333*^9, 3.8665207587981625`*^9}},
 CellLabel->
  "In[145]:=",ExpressionUUID->"cf01178a-38e8-4fdf-a7b5-b0c685fec5f1"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{
       SubscriptBox["l", "1"], " ", 
       RowBox[{"(", 
        RowBox[{
         SubscriptBox["m", "1"], "+", 
         SubscriptBox["m", "2"]}], ")"}]}], 
      RowBox[{
       RowBox[{"Cos", "[", 
        RowBox[{
         RowBox[{
          SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "-", 
         RowBox[{
          SubscriptBox["\[Theta]", "2"], "[", "t", "]"}]}], "]"}], " ", 
       SubscriptBox["l", "2"], " ", 
       SubscriptBox["m", "2"]}]},
     {
      RowBox[{
       RowBox[{"Cos", "[", 
        RowBox[{
         RowBox[{
          SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "-", 
         RowBox[{
          SubscriptBox["\[Theta]", "2"], "[", "t", "]"}]}], "]"}], " ", 
       SubscriptBox["l", "1"], " ", 
       SubscriptBox["m", "2"]}], 
      RowBox[{
       SubscriptBox["l", "2"], " ", 
       SubscriptBox["m", "2"]}]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{{3.866335070129747*^9, 3.866335073620936*^9}, {
  3.8663358172061625`*^9, 3.866335836576846*^9}, {3.8665207128587484`*^9, 
  3.8665207593468037`*^9}},
 CellLabel->
  "Out[147]//MatrixForm=",ExpressionUUID->"c6af531a-062a-4a25-9c05-\
c88506b71191"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"g", " ", 
       RowBox[{"Sin", "[", 
        RowBox[{
         SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "]"}], " ", 
       RowBox[{"(", 
        RowBox[{
         SubscriptBox["m", "1"], "+", 
         SubscriptBox["m", "2"]}], ")"}]}], "-", 
      RowBox[{
       SubscriptBox["T", "1"], "[", "t", "]"}], "+", 
      RowBox[{
       SubscriptBox["l", "1"], " ", 
       RowBox[{"(", 
        RowBox[{
         SubscriptBox["m", "1"], "+", 
         SubscriptBox["m", "2"]}], ")"}], " ", 
       RowBox[{
        SuperscriptBox[
         SubscriptBox["\[Theta]", "1"], "\[Prime]\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}], "+", 
      RowBox[{
       RowBox[{"Cos", "[", 
        RowBox[{
         RowBox[{
          SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "-", 
         RowBox[{
          SubscriptBox["\[Theta]", "2"], "[", "t", "]"}]}], "]"}], " ", 
       SubscriptBox["l", "2"], " ", 
       SubscriptBox["m", "2"], " ", 
       RowBox[{
        SuperscriptBox[
         SubscriptBox["\[Theta]", "2"], "\[Prime]\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}]}], ",", 
     RowBox[{
      RowBox[{"g", " ", 
       RowBox[{"Sin", "[", 
        RowBox[{
         SubscriptBox["\[Theta]", "2"], "[", "t", "]"}], "]"}], " ", 
       SubscriptBox["m", "2"]}], "-", 
      RowBox[{
       SubscriptBox["T", "2"], "[", "t", "]"}], "+", 
      RowBox[{
       RowBox[{"Cos", "[", 
        RowBox[{
         RowBox[{
          SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "-", 
         RowBox[{
          SubscriptBox["\[Theta]", "2"], "[", "t", "]"}]}], "]"}], " ", 
       SubscriptBox["l", "1"], " ", 
       SubscriptBox["m", "2"], " ", 
       RowBox[{
        SuperscriptBox[
         SubscriptBox["\[Theta]", "1"], "\[Prime]\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}], "+", 
      RowBox[{
       SubscriptBox["l", "2"], " ", 
       SubscriptBox["m", "2"], " ", 
       RowBox[{
        SuperscriptBox[
         SubscriptBox["\[Theta]", "2"], "\[Prime]\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}]}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", 
         RowBox[{
          RowBox[{"Sin", "[", 
           RowBox[{
            RowBox[{
             SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "-", 
            RowBox[{
             SubscriptBox["\[Theta]", "2"], "[", "t", "]"}]}], "]"}], " ", 
          SubscriptBox["l", "2"], " ", 
          SubscriptBox["m", "2"]}]}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{
          RowBox[{"-", 
           RowBox[{"Sin", "[", 
            RowBox[{
             RowBox[{
              SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "-", 
             RowBox[{
              SubscriptBox["\[Theta]", "2"], "[", "t", "]"}]}], "]"}]}], " ", 
          SubscriptBox["l", "1"], " ", 
          SubscriptBox["m", "2"]}], ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0"}], "}"}]}], "}"}]}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{{3.866335070129747*^9, 3.866335073620936*^9}, {
  3.8663358172061625`*^9, 3.866335836576846*^9}, {3.8665207128587484`*^9, 
  3.8665207593554153`*^9}},
 CellLabel->
  "Out[148]=",ExpressionUUID->"d616c6bc-fce5-46d2-b780-3353a91250f8"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {"0", "0"},
     {"0", "0"}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{{3.866335070129747*^9, 3.866335073620936*^9}, {
  3.8663358172061625`*^9, 3.866335836576846*^9}, {3.8665207128587484`*^9, 
  3.866520759360402*^9}},
 CellLabel->
  "Out[150]//MatrixForm=",ExpressionUUID->"7d5cdc47-7277-43cf-87f9-\
c97f09372da4"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{
       RowBox[{"Sin", "[", 
        RowBox[{
         SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "]"}], " ", 
       RowBox[{"(", 
        RowBox[{
         SubscriptBox["m", "1"], "+", 
         SubscriptBox["m", "2"]}], ")"}]}]},
     {
      RowBox[{
       RowBox[{"Sin", "[", 
        RowBox[{
         SubscriptBox["\[Theta]", "2"], "[", "t", "]"}], "]"}], " ", 
       SubscriptBox["m", "2"]}]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{{3.866335070129747*^9, 3.866335073620936*^9}, {
  3.8663358172061625`*^9, 3.866335836576846*^9}, {3.8665207128587484`*^9, 
  3.8665207593657045`*^9}},
 CellLabel->
  "Out[153]//MatrixForm=",ExpressionUUID->"9409a8c7-2e6c-4746-8581-\
00a3158866d2"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"9.81`", " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", 
          FractionBox[
           RowBox[{
            RowBox[{"Cos", "[", 
             RowBox[{
              RowBox[{
               SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "-", 
              RowBox[{
               SubscriptBox["\[Theta]", "2"], "[", "t", "]"}]}], "]"}], " ", 
            RowBox[{"Sin", "[", 
             RowBox[{
              SubscriptBox["\[Theta]", "2"], "[", "t", "]"}], "]"}], " ", 
            SubscriptBox["l", "2"], " ", 
            SubsuperscriptBox["m", "2", "2"]}], 
           RowBox[{
            RowBox[{
             SubscriptBox["l", "1"], " ", 
             SubscriptBox["l", "2"], " ", 
             SubscriptBox["m", "1"], " ", 
             SubscriptBox["m", "2"]}], "+", 
            RowBox[{
             SubscriptBox["l", "1"], " ", 
             SubscriptBox["l", "2"], " ", 
             SubsuperscriptBox["m", "2", "2"]}], "-", 
            RowBox[{
             SuperscriptBox[
              RowBox[{"Cos", "[", 
               RowBox[{
                RowBox[{
                 SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "-", 
                RowBox[{
                 SubscriptBox["\[Theta]", "2"], "[", "t", "]"}]}], "]"}], 
              "2"], " ", 
             SubscriptBox["l", "1"], " ", 
             SubscriptBox["l", "2"], " ", 
             SubsuperscriptBox["m", "2", "2"]}]}]]}], "+", 
         FractionBox[
          RowBox[{
           RowBox[{"Sin", "[", 
            RowBox[{
             SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "]"}], " ", 
           SubscriptBox["l", "2"], " ", 
           SubscriptBox["m", "2"], " ", 
           RowBox[{"(", 
            RowBox[{
             SubscriptBox["m", "1"], "+", 
             SubscriptBox["m", "2"]}], ")"}]}], 
          RowBox[{
           RowBox[{
            SubscriptBox["l", "1"], " ", 
            SubscriptBox["l", "2"], " ", 
            SubscriptBox["m", "1"], " ", 
            SubscriptBox["m", "2"]}], "+", 
           RowBox[{
            SubscriptBox["l", "1"], " ", 
            SubscriptBox["l", "2"], " ", 
            SubsuperscriptBox["m", "2", "2"]}], "-", 
           RowBox[{
            SuperscriptBox[
             RowBox[{"Cos", "[", 
              RowBox[{
               RowBox[{
                SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "-", 
               RowBox[{
                SubscriptBox["\[Theta]", "2"], "[", "t", "]"}]}], "]"}], "2"],
             " ", 
            SubscriptBox["l", "1"], " ", 
            SubscriptBox["l", "2"], " ", 
            SubsuperscriptBox["m", "2", "2"]}]}]]}], ")"}]}]},
     {
      RowBox[{"9.81`", " ", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"-", 
          FractionBox[
           RowBox[{
            RowBox[{"Cos", "[", 
             RowBox[{
              RowBox[{
               SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "-", 
              RowBox[{
               SubscriptBox["\[Theta]", "2"], "[", "t", "]"}]}], "]"}], " ", 
            RowBox[{"Sin", "[", 
             RowBox[{
              SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "]"}], " ", 
            SubscriptBox["l", "1"], " ", 
            SubscriptBox["m", "2"], " ", 
            RowBox[{"(", 
             RowBox[{
              SubscriptBox["m", "1"], "+", 
              SubscriptBox["m", "2"]}], ")"}]}], 
           RowBox[{
            RowBox[{
             SubscriptBox["l", "1"], " ", 
             SubscriptBox["l", "2"], " ", 
             SubscriptBox["m", "1"], " ", 
             SubscriptBox["m", "2"]}], "+", 
            RowBox[{
             SubscriptBox["l", "1"], " ", 
             SubscriptBox["l", "2"], " ", 
             SubsuperscriptBox["m", "2", "2"]}], "-", 
            RowBox[{
             SuperscriptBox[
              RowBox[{"Cos", "[", 
               RowBox[{
                RowBox[{
                 SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "-", 
                RowBox[{
                 SubscriptBox["\[Theta]", "2"], "[", "t", "]"}]}], "]"}], 
              "2"], " ", 
             SubscriptBox["l", "1"], " ", 
             SubscriptBox["l", "2"], " ", 
             SubsuperscriptBox["m", "2", "2"]}]}]]}], "+", 
         FractionBox[
          RowBox[{
           RowBox[{"Sin", "[", 
            RowBox[{
             SubscriptBox["\[Theta]", "2"], "[", "t", "]"}], "]"}], " ", 
           SubscriptBox["l", "1"], " ", 
           SubscriptBox["m", "2"], " ", 
           RowBox[{"(", 
            RowBox[{
             SubscriptBox["m", "1"], "+", 
             SubscriptBox["m", "2"]}], ")"}]}], 
          RowBox[{
           RowBox[{
            SubscriptBox["l", "1"], " ", 
            SubscriptBox["l", "2"], " ", 
            SubscriptBox["m", "1"], " ", 
            SubscriptBox["m", "2"]}], "+", 
           RowBox[{
            SubscriptBox["l", "1"], " ", 
            SubscriptBox["l", "2"], " ", 
            SubsuperscriptBox["m", "2", "2"]}], "-", 
           RowBox[{
            SuperscriptBox[
             RowBox[{"Cos", "[", 
              RowBox[{
               RowBox[{
                SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "-", 
               RowBox[{
                SubscriptBox["\[Theta]", "2"], "[", "t", "]"}]}], "]"}], "2"],
             " ", 
            SubscriptBox["l", "1"], " ", 
            SubscriptBox["l", "2"], " ", 
            SubsuperscriptBox["m", "2", "2"]}]}]]}], ")"}]}]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{{3.866335070129747*^9, 3.866335073620936*^9}, {
  3.8663358172061625`*^9, 3.866335836576846*^9}, {3.8665207128587484`*^9, 
  3.8665207593746805`*^9}},
 CellLabel->
  "Out[155]//MatrixForm=",ExpressionUUID->"c4b90ece-8344-425b-8a85-\
d4c37d94a76c"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{"solrhs2", "=", 
  RowBox[{
   RowBox[{"CoefficientArrays", "[", 
    RowBox[{"eqns", ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        SuperscriptBox[
         SubscriptBox["\[Theta]", "1"], "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}], ",", 
       RowBox[{
        SuperscriptBox[
         SubscriptBox["\[Theta]", "2"], "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}], "}"}]}], "]"}], "//", 
   "Normal"}]}], "\[IndentingNewLine]", 
 RowBox[{"Cor", "=", 
  RowBox[{"solrhs2", "[", 
   RowBox[{"[", "3", "]"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{"MatrixForm", "[", "%", "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"solrhs2", "=", 
   RowBox[{
    RowBox[{"CoefficientArrays", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{
          SuperscriptBox["a", "2"], " ", "+", " ", "c"}], "==", "0"}], ",", 
        RowBox[{
         RowBox[{"a", "+", 
          SuperscriptBox["c", "2"]}], "==", "0"}]}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"a", ",", "c"}], "}"}]}], "]"}], "//", "Normal"}]}], 
  "\[IndentingNewLine]"}], "\[IndentingNewLine]"}], "Input",
 CellChangeTimes->{
  3.8663337992028465`*^9, {3.866333946002816*^9, 3.866333969015672*^9}, {
   3.866334356887907*^9, 3.8663343601159124`*^9}, {3.8663344005313077`*^9, 
   3.8663344478147984`*^9}, {3.8663345013793364`*^9, 
   3.8663345062582607`*^9}, {3.8663346089058695`*^9, 
   3.8663347140885377`*^9}, {3.8663348104404736`*^9, 3.86633481480982*^9}, {
   3.86633496704792*^9, 3.8663349717836914`*^9}, {3.866335013255486*^9, 
   3.8663350137034564`*^9}},
 CellLabel->"In[65]:=",ExpressionUUID->"ef873ebe-a54f-4826-9454-ea132375c87d"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"g", " ", 
       RowBox[{"Sin", "[", 
        RowBox[{
         SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "]"}], " ", 
       RowBox[{"(", 
        RowBox[{
         SubscriptBox["m", "1"], "+", 
         SubscriptBox["m", "2"]}], ")"}]}], "-", 
      RowBox[{
       SubscriptBox["T", "1"], "[", "t", "]"}], "+", 
      RowBox[{
       SubscriptBox["l", "1"], " ", 
       RowBox[{"(", 
        RowBox[{
         SubscriptBox["m", "1"], "+", 
         SubscriptBox["m", "2"]}], ")"}], " ", 
       RowBox[{
        SuperscriptBox[
         SubscriptBox["\[Theta]", "1"], "\[Prime]\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}], "+", 
      RowBox[{
       RowBox[{"Cos", "[", 
        RowBox[{
         RowBox[{
          SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "-", 
         RowBox[{
          SubscriptBox["\[Theta]", "2"], "[", "t", "]"}]}], "]"}], " ", 
       SubscriptBox["l", "2"], " ", 
       SubscriptBox["m", "2"], " ", 
       RowBox[{
        SuperscriptBox[
         SubscriptBox["\[Theta]", "2"], "\[Prime]\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}]}], ",", 
     RowBox[{
      RowBox[{"g", " ", 
       RowBox[{"Sin", "[", 
        RowBox[{
         SubscriptBox["\[Theta]", "2"], "[", "t", "]"}], "]"}], " ", 
       SubscriptBox["m", "2"]}], "-", 
      RowBox[{
       SubscriptBox["T", "2"], "[", "t", "]"}], "+", 
      RowBox[{
       RowBox[{"Cos", "[", 
        RowBox[{
         RowBox[{
          SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "-", 
         RowBox[{
          SubscriptBox["\[Theta]", "2"], "[", "t", "]"}]}], "]"}], " ", 
       SubscriptBox["l", "1"], " ", 
       SubscriptBox["m", "2"], " ", 
       RowBox[{
        SuperscriptBox[
         SubscriptBox["\[Theta]", "1"], "\[Prime]\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}], "+", 
      RowBox[{
       SubscriptBox["l", "2"], " ", 
       SubscriptBox["m", "2"], " ", 
       RowBox[{
        SuperscriptBox[
         SubscriptBox["\[Theta]", "2"], "\[Prime]\[Prime]",
         MultilineFunction->None], "[", "t", "]"}]}]}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", 
         RowBox[{
          RowBox[{"Sin", "[", 
           RowBox[{
            RowBox[{
             SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "-", 
            RowBox[{
             SubscriptBox["\[Theta]", "2"], "[", "t", "]"}]}], "]"}], " ", 
          SubscriptBox["l", "2"], " ", 
          SubscriptBox["m", "2"]}]}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
         RowBox[{
          RowBox[{"-", 
           RowBox[{"Sin", "[", 
            RowBox[{
             RowBox[{
              SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "-", 
             RowBox[{
              SubscriptBox["\[Theta]", "2"], "[", "t", "]"}]}], "]"}]}], " ", 
          SubscriptBox["l", "1"], " ", 
          SubscriptBox["m", "2"]}], ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0"}], "}"}]}], "}"}]}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.8663319770275745`*^9, {3.8663320180935082`*^9, 3.866332068988614*^9}, {
   3.8663321016740007`*^9, 3.866332199898633*^9}, 3.8663322628389854`*^9, {
   3.8663323811089396`*^9, 3.8663324077462025`*^9}, {3.8663326642121277`*^9, 
   3.8663326833247747`*^9}, {3.866332739648749*^9, 3.866332752711173*^9}, 
   3.866333809399681*^9, {3.866333940502773*^9, 3.8663339694694395`*^9}, 
   3.8663343241512337`*^9, 3.866334361322936*^9, 3.8663344497338705`*^9, 
   3.8663345077861104`*^9, {3.866334613687972*^9, 3.8663346557193584`*^9}, {
   3.8663346959960318`*^9, 3.866334714398052*^9}, 3.866334815369752*^9, 
   3.8663349728463545`*^9, 3.8663350142013493`*^9},
 CellLabel->"Out[65]=",ExpressionUUID->"8fc7f894-a205-4723-8b8f-1ac060d869b6"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", 
       RowBox[{
        RowBox[{"Sin", "[", 
         RowBox[{
          RowBox[{
           SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "-", 
          RowBox[{
           SubscriptBox["\[Theta]", "2"], "[", "t", "]"}]}], "]"}], " ", 
        SubscriptBox["l", "2"], " ", 
        SubscriptBox["m", "2"]}]}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        RowBox[{"-", 
         RowBox[{"Sin", "[", 
          RowBox[{
           RowBox[{
            SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "-", 
           RowBox[{
            SubscriptBox["\[Theta]", "2"], "[", "t", "]"}]}], "]"}]}], " ", 
        SubscriptBox["l", "1"], " ", 
        SubscriptBox["m", "2"]}], ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0"}], "}"}]}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.8663319770275745`*^9, {3.8663320180935082`*^9, 3.866332068988614*^9}, {
   3.8663321016740007`*^9, 3.866332199898633*^9}, 3.8663322628389854`*^9, {
   3.8663323811089396`*^9, 3.8663324077462025`*^9}, {3.8663326642121277`*^9, 
   3.8663326833247747`*^9}, {3.866332739648749*^9, 3.866332752711173*^9}, 
   3.866333809399681*^9, {3.866333940502773*^9, 3.8663339694694395`*^9}, 
   3.8663343241512337`*^9, 3.866334361322936*^9, 3.8663344497338705`*^9, 
   3.8663345077861104`*^9, {3.866334613687972*^9, 3.8663346557193584`*^9}, {
   3.8663346959960318`*^9, 3.866334714398052*^9}, 3.866334815369752*^9, 
   3.8663349728463545`*^9, 3.866335014207334*^9},
 CellLabel->"Out[66]=",ExpressionUUID->"e6d68f82-ff47-4564-b6c2-51627f2acdbb"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"(", "\[NoBreak]", 
       TagBox[GridBox[{
          {"0"},
          {"0"}
         },
         GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
         GridBoxSpacings->{"Columns" -> {
             Offset[0.27999999999999997`], {
              Offset[0.5599999999999999]}, 
             Offset[0.27999999999999997`]}, "Rows" -> {
             Offset[0.2], {
              Offset[0.4]}, 
             Offset[0.2]}}],
        Column], "\[NoBreak]", ")"}], 
      RowBox[{"(", "\[NoBreak]", 
       TagBox[GridBox[{
          {"0"},
          {
           RowBox[{
            RowBox[{"Sin", "[", 
             RowBox[{
              RowBox[{
               SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "-", 
              RowBox[{
               SubscriptBox["\[Theta]", "2"], "[", "t", "]"}]}], "]"}], " ", 
            SubscriptBox["l", "2"], " ", 
            SubscriptBox["m", "2"]}]}
         },
         GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
         GridBoxSpacings->{"Columns" -> {
             Offset[0.27999999999999997`], {
              Offset[0.5599999999999999]}, 
             Offset[0.27999999999999997`]}, "Rows" -> {
             Offset[0.2], {
              Offset[0.4]}, 
             Offset[0.2]}}],
        Column], "\[NoBreak]", ")"}]},
     {
      RowBox[{"(", "\[NoBreak]", 
       TagBox[GridBox[{
          {
           RowBox[{
            RowBox[{"-", 
             RowBox[{"Sin", "[", 
              RowBox[{
               RowBox[{
                SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], "-", 
               RowBox[{
                SubscriptBox["\[Theta]", "2"], "[", "t", "]"}]}], "]"}]}], 
            " ", 
            SubscriptBox["l", "1"], " ", 
            SubscriptBox["m", "2"]}]},
          {"0"}
         },
         GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
         GridBoxSpacings->{"Columns" -> {
             Offset[0.27999999999999997`], {
              Offset[0.5599999999999999]}, 
             Offset[0.27999999999999997`]}, "Rows" -> {
             Offset[0.2], {
              Offset[0.4]}, 
             Offset[0.2]}}],
        Column], "\[NoBreak]", ")"}], 
      RowBox[{"(", "\[NoBreak]", 
       TagBox[GridBox[{
          {"0"},
          {"0"}
         },
         GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
         GridBoxSpacings->{"Columns" -> {
             Offset[0.27999999999999997`], {
              Offset[0.5599999999999999]}, 
             Offset[0.27999999999999997`]}, "Rows" -> {
             Offset[0.2], {
              Offset[0.4]}, 
             Offset[0.2]}}],
        Column], "\[NoBreak]", ")"}]}
    },
    GridBoxAlignment->{"Columns" -> {{Center}}, "Rows" -> {{Baseline}}},
    GridBoxSpacings->{"Columns" -> {
        Offset[0.27999999999999997`], {
         Offset[0.7]}, 
        Offset[0.27999999999999997`]}, "Rows" -> {
        Offset[0.2], {
         Offset[0.4]}, 
        Offset[0.2]}}], "\[NoBreak]", ")"}],
  Function[BoxForm`e$, 
   MatrixForm[BoxForm`e$]]]], "Output",
 CellChangeTimes->{
  3.8663319770275745`*^9, {3.8663320180935082`*^9, 3.866332068988614*^9}, {
   3.8663321016740007`*^9, 3.866332199898633*^9}, 3.8663322628389854`*^9, {
   3.8663323811089396`*^9, 3.8663324077462025`*^9}, {3.8663326642121277`*^9, 
   3.8663326833247747`*^9}, {3.866332739648749*^9, 3.866332752711173*^9}, 
   3.866333809399681*^9, {3.866333940502773*^9, 3.8663339694694395`*^9}, 
   3.8663343241512337`*^9, 3.866334361322936*^9, 3.8663344497338705`*^9, 
   3.8663345077861104`*^9, {3.866334613687972*^9, 3.8663346557193584`*^9}, {
   3.8663346959960318`*^9, 3.866334714398052*^9}, 3.866334815369752*^9, 
   3.8663349728463545`*^9, 3.866335014213997*^9},
 CellLabel->
  "Out[67]//MatrixForm=",ExpressionUUID->"26d6ef5a-cebb-4538-9e87-\
8fbbe08d4409"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"0", ",", "0"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0", ",", "1"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"1", ",", "0"}], "}"}]}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"1", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "0"}], "}"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "0"}], "}"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "1"}], "}"}]}], "}"}]}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.8663319770275745`*^9, {3.8663320180935082`*^9, 3.866332068988614*^9}, {
   3.8663321016740007`*^9, 3.866332199898633*^9}, 3.8663322628389854`*^9, {
   3.8663323811089396`*^9, 3.8663324077462025`*^9}, {3.8663326642121277`*^9, 
   3.8663326833247747`*^9}, {3.866332739648749*^9, 3.866332752711173*^9}, 
   3.866333809399681*^9, {3.866333940502773*^9, 3.8663339694694395`*^9}, 
   3.8663343241512337`*^9, 3.866334361322936*^9, 3.8663344497338705`*^9, 
   3.8663345077861104`*^9, {3.866334613687972*^9, 3.8663346557193584`*^9}, {
   3.8663346959960318`*^9, 3.866334714398052*^9}, 3.866334815369752*^9, 
   3.8663349728463545`*^9, 3.8663350142200108`*^9},
 CellLabel->"Out[68]=",ExpressionUUID->"77b3ff7c-0894-4983-bee0-03972285945a"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[StyleBox["LQ Tracking",
 FontWeight->"Bold"]], "Subtitle",
 CellChangeTimes->{{3.8671095128946357`*^9, 
  3.8671095279936953`*^9}},ExpressionUUID->"b785a827-aaf8-4e0a-a387-\
a9b1fd5d53e7"],

Cell[BoxData[""], "Input",ExpressionUUID->"6eec0bc1-55dd-4389-8310-26b9316164ca"],

Cell[BoxData[
 RowBox[{"StateSpaceModel", "[", 
  RowBox[{"eqns", ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], ",", " ", "0"}], 
      "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        SubscriptBox["\[Theta]", "2"], "[", "t", "]"}], ",", " ", "0"}], 
      "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        SuperscriptBox[
         SubscriptBox["\[Theta]", "1"], "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}], ",", " ", "0"}], "}"}], 
     ",", " ", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        SuperscriptBox[
         SubscriptBox["\[Theta]", "2"], "\[Prime]",
         MultilineFunction->None], "[", "t", "]"}], ",", " ", "0"}], "}"}]}], 
    "}"}], ",", " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        SubscriptBox["T", "1"], "[", "t", "]"}], ",", " ", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{
        SubscriptBox["T", "2"], "[", "t", "]"}], ",", " ", "0"}], "}"}]}], 
    "}"}], ",", " ", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      SubscriptBox["\[Theta]", "1"], "[", "t", "]"}], ",", 
     RowBox[{
      SubscriptBox["\[Theta]", "2"], "[", "t", "]"}]}], "}"}], ",", " ", 
   "t"}], "]"}]], "Input",
 CellChangeTimes->{
  3.8663304612675285`*^9, {3.8663355119570417`*^9, 3.8663355473841166`*^9}},
 CellLabel->
  "In[111]:=",ExpressionUUID->"27a7ea85-e7b2-4d1a-a35b-912fb2ba4a23"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"QuadraticOptimization", "[", 
  RowBox[{
   RowBox[{
    RowBox[{"x", "^", "2"}], "+", 
    RowBox[{"y", "^", "2"}]}], ",", 
   RowBox[{
    RowBox[{"x", "+", "y"}], ">=", "1"}], ",", 
   RowBox[{"{", 
    RowBox[{"x", ",", "y"}], "}"}]}], "]"}]], "Input",
 CellChangeTimes->{
  3.866964447090763*^9, {3.867105290712702*^9, 3.8671052982343893`*^9}},
 CellLabel->"In[1]:=",ExpressionUUID->"43fed30c-9974-4e00-b346-072637d4504b"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"x", "\[Rule]", "0.5000000060044006`"}], ",", 
   RowBox[{"y", "\[Rule]", "0.5000000060044006`"}]}], "}"}]], "Output",
 CellChangeTimes->{3.8671053076169786`*^9},
 CellLabel->"Out[1]=",ExpressionUUID->"f32dc8c9-03e3-4136-80f7-92e912d02e22"]
}, Open  ]],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"{", 
    RowBox[{"ti", ",", "wts"}], "}"}], "=", 
   RowBox[{"10", "*", 
    RowBox[{"Most", "[", 
     RowBox[{"NIntegrate`TrapezoidalRuleData", "[", 
      RowBox[{"100", ",", "MachinePrecision"}], "]"}], "]"}]}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"Dimensions", "[", "wts", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"W", "=", 
   RowBox[{"DiagonalMatrix", "[", 
    RowBox[{"SparseArray", "[", "wts", "]"}], "]"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.8669652321562743`*^9, 3.8669652451388702`*^9}, 
   3.867105893071396*^9, 3.8671075578325796`*^9, {3.8671079915293655`*^9, 
   3.8671080713549023`*^9}, {3.8671089953081937`*^9, 3.8671089971018224`*^9}},
 CellLabel->"In[37]:=",ExpressionUUID->"17725a53-e044-4e73-9394-e112d907189c"],

Cell[BoxData[
 RowBox[{"\[IndentingNewLine]", 
  RowBox[{
   RowBox[{"objective", "=", 
    RowBox[{
     RowBox[{"x1", ".", "W", ".", "x1"}], "+", 
     RowBox[{"s", ".", "W", ".", "s"}], "+", 
     RowBox[{"u", ".", "W", ".", "u"}]}]}], "\n", 
   RowBox[{"auxConstraint", "=", 
    RowBox[{"s", "==", 
     RowBox[{"(", 
      RowBox[{"1", "-", "x2"}], ")"}]}]}]}]}]], "Input",
 CellChangeTimes->{{3.867105889750589*^9, 3.86710590168834*^9}, {
   3.8671059412772236`*^9, 3.867105952760291*^9}, 
   3.8671062816722507`*^9},ExpressionUUID->"c2c021dc-ba5b-40ce-a1e5-\
bfc4078eaec9"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"A", "=", 
  RowBox[{"(", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
       RowBox[{"-", "1"}], ",", "0.5"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0.3", ",", 
       RowBox[{"-", "1"}]}], "}"}]}], "}"}], ")"}]}]], "Input",
 CellChangeTimes->{{3.86710629428529*^9, 3.8671063054065995`*^9}},
 CellLabel->"In[14]:=",ExpressionUUID->"100471fc-0a9f-4001-89e1-aec95e332066"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"-", "1"}], ",", "0.5`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"0.3`", ",", 
     RowBox[{"-", "1"}]}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{3.8671063066323338`*^9},
 CellLabel->"Out[14]=",ExpressionUUID->"156c4661-955d-4a49-8c66-47ab1e82b29a"]
}, Open  ]],

Cell[BoxData[{
 RowBox[{"dTMat", "=", 
  RowBox[{
   RowBox[{"NDSolve`FiniteDifferenceDerivative", "[", 
    RowBox[{"1", ",", "ti", ",", 
     RowBox[{"\"\<DifferenceOrder\>\"", "->", "2"}]}], "]"}], "[", 
   "\"\<DifferentiationMatrix\>\"", "]"}]}], "\n", 
 RowBox[{
  RowBox[{"ode1", "=", 
   RowBox[{
    RowBox[{"dTMat", ".", "x1"}], "==", 
    RowBox[{
     RowBox[{
      RowBox[{"A", "[", 
       RowBox[{"[", "1", "]"}], "]"}], ".", 
      RowBox[{"{", 
       RowBox[{"x1", ",", "x2"}], "}"}]}], "+", "u"}]}]}], 
  "\n"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ode2", "=", 
   RowBox[{
    RowBox[{"dTMat", ".", "x2"}], "==", 
    RowBox[{
     RowBox[{
      RowBox[{"A", "[", 
       RowBox[{"[", "2", "]"}], "]"}], ".", 
      RowBox[{"{", 
       RowBox[{"x1", ",", "x2"}], "}"}]}], "+", "u"}]}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.8671054214586706`*^9, 3.8671054254338713`*^9}, {
  3.8671062578643904`*^9, 3.86710625936996*^9}, {3.867106823064927*^9, 
  3.867106823499321*^9}},
 CellLabel->"In[18]:=",ExpressionUUID->"c4901417-e127-45bf-a61f-22cead92e8f6"],

Cell[CellGroupData[{

Cell[BoxData["wts"], "Input",
 CellChangeTimes->{{3.8671074758381047`*^9, 3.867107475945527*^9}, {
  3.867107527369466*^9, 3.867107529083356*^9}},
 CellLabel->"In[22]:=",ExpressionUUID->"680fb7d2-4fbf-4c39-8b8d-e1112deb8d1d"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0.025252525252525256`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.05050505050505051`", ",", "0.05050505050505051`", ",", 
   "0.025252525252525256`"}], "}"}]], "Output",
 CellChangeTimes->{{3.86696523823738*^9, 3.8669652455401154`*^9}, 
   3.8671062599483957`*^9, 3.8671063541878476`*^9, 3.867106827778527*^9, 
   3.867107476520944*^9, 3.867107543103002*^9},
 CellLabel->"Out[22]=",ExpressionUUID->"3310f323-0cc7-4534-bdf2-73604262bd6e"]
}, Open  ]]
}, Open  ]]
},
WindowSize->{1428., 741.75},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
Magnification:>1.5 Inherited,
FrontEndVersion->"13.0 for Microsoft Windows (64-bit) (December 2, 2021)",
StyleDefinitions->"Default.nb",
ExpressionUUID->"b53d9ad5-3e7f-4696-828d-2e9f6bdb9b6f"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 2346, 67, 186, "Input",ExpressionUUID->"cb6c48c2-6d7e-41f3-b774-56bcdad6e081"],
Cell[2929, 91, 4929, 118, 245, "Output",ExpressionUUID->"cfb71662-1fd4-47cc-bcf2-dfee3cc457e4"]
}, Open  ]],
Cell[CellGroupData[{
Cell[7895, 214, 1922, 44, 42, "Input",ExpressionUUID->"e1324885-1b8b-4d00-a857-2d3718df7db5"],
Cell[9820, 260, 3449, 84, 146, "Output",ExpressionUUID->"027b6b49-7c58-4e89-ba23-73b62970bfa3"]
}, Open  ]],
Cell[CellGroupData[{
Cell[13306, 349, 1063, 27, 42, "Input",ExpressionUUID->"09060e4d-ea94-4146-b178-aad41ca6965b"],
Cell[14372, 378, 3490, 85, 146, "Output",ExpressionUUID->"c42797d3-a47a-4500-894d-13a9094346a2"]
}, Open  ]],
Cell[17877, 466, 131, 3, 42, "Input",ExpressionUUID->"b05c21c9-aaeb-4764-8b5f-c13c066cfd0d"],
Cell[18011, 471, 4508, 120, 137, "Input",ExpressionUUID->"bdb18fa3-c8f8-4600-a507-41c51302d6c3"],
Cell[CellGroupData[{
Cell[22544, 595, 3093, 76, 385, "Input",ExpressionUUID->"cf01178a-38e8-4fdf-a7b5-b0c685fec5f1"],
Cell[25640, 673, 1597, 48, 89, "Output",ExpressionUUID->"c6af531a-062a-4a25-9c05-c88506b71191"],
Cell[27240, 723, 3723, 110, 124, "Output",ExpressionUUID->"d616c6bc-fce5-46d2-b780-3353a91250f8"],
Cell[30966, 835, 747, 21, 89, "Output",ExpressionUUID->"7d5cdc47-7277-43cf-87f9-c97f09372da4"],
Cell[31716, 858, 1145, 34, 89, "Output",ExpressionUUID->"9409a8c7-2e6c-4746-8581-00a3158866d2"],
Cell[32864, 894, 6222, 169, 138, "Output",ExpressionUUID->"c4b90ece-8344-425b-8a85-d4c37d94a76c"]
}, Open  ]],
Cell[CellGroupData[{
Cell[39123, 1068, 1730, 44, 190, "Input",ExpressionUUID->"ef873ebe-a54f-4826-9454-ea132375c87d"],
Cell[40856, 1114, 4224, 116, 124, "Output",ExpressionUUID->"8fc7f894-a205-4723-8b8f-1ac060d869b6"],
Cell[45083, 1232, 1781, 44, 66, "Output",ExpressionUUID->"e6d68f82-ff47-4564-b6c2-51627f2acdbb"],
Cell[46867, 1278, 3938, 104, 141, "Output",ExpressionUUID->"26d6ef5a-cebb-4538-9e87-8fbbe08d4409"],
Cell[50808, 1384, 1424, 35, 66, "Output",ExpressionUUID->"77b3ff7c-0894-4983-bee0-03972285945a"]
}, Open  ]],
Cell[CellGroupData[{
Cell[52269, 1424, 202, 4, 79, "Subtitle",ExpressionUUID->"b785a827-aaf8-4e0a-a387-a9b1fd5d53e7"],
Cell[52474, 1430, 81, 0, 42, "Input",ExpressionUUID->"6eec0bc1-55dd-4389-8310-26b9316164ca"],
Cell[52558, 1432, 1539, 50, 42, "Input",ExpressionUUID->"27a7ea85-e7b2-4d1a-a35b-912fb2ba4a23"],
Cell[CellGroupData[{
Cell[54122, 1486, 451, 12, 42, "Input",ExpressionUUID->"43fed30c-9974-4e00-b346-072637d4504b"],
Cell[54576, 1500, 291, 6, 66, "Output",ExpressionUUID->"f32dc8c9-03e3-4136-80f7-92e912d02e22"]
}, Open  ]],
Cell[54882, 1509, 805, 18, 100, "Input",ExpressionUUID->"17725a53-e044-4e73-9394-e112d907189c"],
Cell[55690, 1529, 581, 15, 100, "Input",ExpressionUUID->"c2c021dc-ba5b-40ce-a1e5-bfc4078eaec9"],
Cell[CellGroupData[{
Cell[56296, 1548, 423, 12, 42, "Input",ExpressionUUID->"100471fc-0a9f-4001-89e1-aec95e332066"],
Cell[56722, 1562, 342, 10, 66, "Output",ExpressionUUID->"156c4661-955d-4a49-8c66-47ab1e82b29a"]
}, Open  ]],
Cell[57079, 1575, 1085, 31, 128, "Input",ExpressionUUID->"c4901417-e127-45bf-a61f-22cead92e8f6"],
Cell[CellGroupData[{
Cell[58189, 1610, 225, 3, 42, "Input",ExpressionUUID->"680fb7d2-4fbf-4c39-8b8d-e1112deb8d1d"],
Cell[58417, 1615, 6493, 106, 609, "Output",ExpressionUUID->"3310f323-0cc7-4534-bdf2-73604262bd6e"]
}, Open  ]]
}, Open  ]]
}
]
*)

